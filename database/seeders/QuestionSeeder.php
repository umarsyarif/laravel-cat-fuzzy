<?php

namespace Database\Seeders;

use App\Models\Question;
use Illuminate\Database\Console\Seeds\WithoutModelEvents;
use Illuminate\Database\Seeder;
use Faker\Factory as Faker;

class QuestionSeeder extends Seeder
{
    protected $faker;

    /**
     * Run the database seeds.
     */
    protected $difficultyLevel = [
        "0.02",
        "0.02",
        "0.02",
        "0.03",
        "0.03",
        "0.04",
        "0.04",
        "0.09",
        "0.12",
        "0.13",
        "0.13",
        "0.15",
        "0.16",
        "0.17",
        "0.17",
        "0.18",
        "0.21",
        "0.22",
        "0.22",
        "0.24",
        "0.25",
        "0.26",
        "0.32",
        "0.33",
        "0.35",
        "0.35",
        "0.36",
        "0.37",
        "0.39",
        "0.39",
        "0.40",
        "0.40",
        "0.40",
        "0.40",
        "0.41",
        "0.43",
        "0.45",
        "0.45",
        "0.51",
        "0.52",
        "0.53",
        "0.54",
        "0.55",
        "0.61",
        "0.63",
        "0.64",
        "0.67",
        "0.73",
        "0.73",
        "0.74",
        "0.74",
        "0.75",
        "0.77",
        "0.77",
        "0.79",
        "0.89",
        "0.99",
        "1.00",
        "1.01",
        "1.02",
        "1.06",
        "1.07",
        "1.08",
        "1.08",
        "1.10",
        "1.14",
        "1.16",
        "1.18",
        "1.27",
        "1.29",
        "1.31",
        "1.33",
        "1.35",
        "1.36",
        "1.39",
        "1.43",
        "1.46",
        "1.53",
        "1.55",
        "1.56",
        "1.61",
        "1.64",
        "1.65",
        "1.81",
        "1.89",
        "1.90",
        "2.10",
        "2.11",
        "2.12",
        "2.19",
        "2.38",
        "2.59",
        "2.62",
        "2.70",
        "2.76",
        "2.93",
        "3.03",
        "3.13",
        "3.48",
        "3.88"
    ];
    private $differentPower = [
        "0.58",
        "0.85",
        "0.45",
        "0.34",
        "1.10",
        "0.67",
        "1.06",
        "1.48",
        "0.40",
        "1.13",
        "0.55",
        "0.90",
        "0.80",
        "0.42",
        "0.58",
        "1.94",
        "0.70",
        "0.72",
        "0.59",
        "0.63",
        "0.91",
        "0.37",
        "0.90",
        "0.35",
        "0.57",
        "0.60",
        "0.68",
        "1.14",
        "1.29",
        "0.73",
        "0.55",
        "0.42",
        "0.46",
        "0.37",
        "0.82",
        "0.23",
        "0.48",
        "1.13",
        "0.09",
        "0.88",
        "0.15",
        "1.20",
        "0.95",
        "0.85",
        "0.75",
        "0.45",
        "0.39",
        "1.04",
        "0.79",
        "0.20",
        "0.49",
        "0.32",
        "0.45",
        "0.93",
        "0.58",
        "0.47",
        "0.19",
        "0.71",
        "0.53",
        "0.55",
        "0.31",
        "0.46",
        "0.33",
        "1.31",
        "0.55",
        "0.87",
        "0.47",
        "0.76",
        "1.23",
        "0.74",
        "0.61",
        "0.42",
        "0.48",
        "0.62",
        "0.53",
        "0.48",
        "0.51",
        "0.86",
        "0.31",
        "0.65",
        "0.47",
        "0.49",
        "0.28",
        "0.60",
        "0.25",
        "0.22",
        "0.31",
        "0.44",
        "0.39",
        "0.50",
        "0.66",
        "0.50",
        "0.25",
        "0.37",
        "0.36",
        "0.43",
        "0.31",
        "0.39",
        "0.13",
        "0.13",
    ];

    public function run(): void
    {
        $this->faker = Faker::create("id_ID");
        $faker = $this->faker;

        for ($i=0; $i < count($this->difficultyLevel); $i++) {
                Question::create([
                'question_code' => 'VAR' . str_pad($i + 1, 5, '0', STR_PAD_LEFT),
                'question' => $faker->sentence(),
                'multiple_choice' => [
                    'A' => $faker->text(20),
                    'B' => $faker->text(20),
                    'C' => $faker->text(20),
                    'D' => $faker->text(20)
                ],
                'answer' => 'A',
                'difficulty_level' => $this->difficultyLevel[$i],
                'different_power' => $this->differentPower[$i]
            ]);
        }
    }

    private function getDifferentPower(){
        // 0 >= different power <= 2
        return $this->faker->randomFloat(2, 0, 2);
    }
}
